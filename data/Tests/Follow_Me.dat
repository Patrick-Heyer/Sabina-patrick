//Markovito
//Who is Who

(variables
  (iniciado no si)
  (following no si)
  (entering_elevator no si)
  (waiting_in_elevator no si)
  (leaving_elevator no si)
  (avoiding_crowd no si)
)

unnormalised

action nada
	iniciado		(SAMEiniciado)
	following		(SAMEfollowing)
	entering_elevator 	(SAMEentering_elevator)
	waiting_in_elevator 	(SAMEwaiting_in_elevator)
	leaving_elevator 	(SAMEleaving_elevator)
	avoiding_crowd		(SAMEavoiding_crowd)
endaction

action iniciar
	iniciado		(iniciado' (si(1.0)) (no(0.0)))
	following		(SAMEfollowing)
	entering_elevator 	(SAMEentering_elevator)
	waiting_in_elevator 	(SAMEwaiting_in_elevator)
	leaving_elevator 	(SAMEleaving_elevator)
	avoiding_crowd		(SAMEavoiding_crowd)
endaction

action follow
	iniciado		(SAMEiniciado)
	following		(following' (si(1.0)) (no(0.0)))
	entering_elevator 	(SAMEentering_elevator)
	waiting_in_elevator 	(SAMEwaiting_in_elevator)
	leaving_elevator 	(SAMEleaving_elevator)
	avoiding_crowd		(SAMEavoiding_crowd)
endaction

action enter_elevator
	iniciado		(SAMEiniciado)
	following		(SAMEfollowing)
	entering_elevator 	(entering_elevator' (si(1.0)) (no(0.0)))
	waiting_in_elevator 	(SAMEwaiting_in_elevator)
	leaving_elevator 	(SAMEleaving_elevator)
	avoiding_crowd		(SAMEavoiding_crowd)
endaction

action wait_in_elevator
	iniciado		(SAMEiniciado)
	following		(SAMEfollowing)
	entering_elevator 	(SAMEentering_elevator)
	waiting_in_elevator 	(waiting_in_elevator' (si(1.0)) (no(0.0)))
	leaving_elevator 	(SAMEleaving_elevator)
	avoiding_crowd		(SAMEavoiding_crowd)
endaction

action leave_elevator
	iniciado		(SAMEiniciado)
	following		(SAMEfollowing)
	entering_elevator 	(SAMEentering_elevator)
	waiting_in_elevator 	(SAMEwaiting_in_elevator)
	leaving_elevator 	(leaving_elevator' (si(1.0)) (no(0.0)))
	avoiding_crowd		(SAMEavoiding_crowd)
endaction

action avoid_crowd
	iniciado		(SAMEiniciado)
	following		(SAMEfollowing)
	entering_elevator 	(SAMEentering_elevator)
	waiting_in_elevator 	(SAMEwaiting_in_elevator)
	leaving_elevator 	(SAMEleaving_elevator)
	avoiding_crowd		(avoiding_crowd' (si(1.0)) (no(0.0)))
endaction


reward [+ 
	(iniciado 		(si (100.0)) 
				(no (-700.0)))
        (iniciado 		(si  (following  		(si (1000.0))  	(no (-200.0))))
				(no  (following  		(si (-600.0)) 	(no (-600.0)))))
        (following 		(si  (entering_elevator  	(si (900.0))  	(no (-300.0))))
				(no  (entering_elevator  	(si (-500.0)) 	(no (-500.0)))))
	(entering_elevator 	(si  (waiting_in_elevator  	(si (800.0))  	(no (-400.0))))
				(no  (waiting_in_elevator  	(si (-400.0)) 	(no (-400.0)))))
	(waiting_in_elevator 	(si  (leaving_elevator  	(si (700.0))  	(no (-500.0))))
				(no  (leaving_elevator  	(si (-300.0)) 	(no (-300.0)))))
	(leaving_elevator 	(si  (avoiding_crowd  		(si (600.0))  	(no (-600.0))))
				(no  (avoiding_crowd  		(si (-200.0)) 	(no (-200.0)))))
	
]
discount 0.900000
tolerance 0.1

